var boostPFSInstantSearchConfig={search:{}};(function(){BoostPFS.inject(this),Utils.getVariantBySku=function(data,searchTerm){console.log(searchTerm),searchTerm=searchTerm.trim();var matchingVariants=data.variants.filter(function(variant){return variant.sku.toLowerCase()===searchTerm.toLowerCase()});return matchingVariants.length>0?matchingVariants[0]:null},InstantSearchResultItemProduct.prototype.compileTemplate=function(){if(this.isShow){var searchTerm=Utils.escape(Globals.currentTerm),variant=Utils.getVariantBySku(this.data,searchTerm);if(variant===null){var imageHTML="";Settings.getSettingValue("search.showSuggestionProductImage")&&this.imageUrl.length&&(imageHTML=this.getTemplate(InstantSearchResultItemProduct.tempType.IMAGE),imageHTML=imageHTML.replace(/{{imageUrl}}/g,this.imageUrl));var productTitle=this.customizeProductTitle();productTitle=this._highlightSuggestionResult(productTitle,searchTerm);var skuHTML="";Settings.getSettingValue("search.showSuggestionProductSku")&&this.sku.length&&(skuHTML=this.getTemplate(InstantSearchResultItemProduct.tempType.SKU),skuHTML=skuHTML.replace(/{{sku}}/g,this.sku));var vendorHTML="";Settings.getSettingValue("search.showSuggestionProductVendor")&&this.vendor.length&&(vendorHTML=this.getTemplate(InstantSearchResultItemProduct.tempType.VENDOR),vendorHTML=vendorHTML.replace(/{{vendor}}/g,this.vendor));var priceHTML=this.compileSuggestionProductPrice(),newTabAttr=Settings.getSettingValue("search.openProductNewTab")?'target="_blank"':"";return this.getTemplate().replace(/{{id}}/g,this.id).replace(/{{escapedBlockType}}/g,Utils.escape(this.parent.type)).replace(/{{url}}/g,this.url).replace(/{{newTabAttribute}}/g,newTabAttr).replace(/{{itemProductImage}}/g,imageHTML).replace(/{{title}}/g,productTitle).replace(/{{escapedTitle}}/g,Utils.escape(productTitle)).replace(/{{itemProductSku}}/g,skuHTML).replace(/{{itemProductVendor}}/g,vendorHTML).replace(/{{itemProductPrice}}/,priceHTML).replace(/{{class.searchSuggestion}}/g,Class.searchSuggestion).replace(/{{class.searchSuggestionItem}}/g,Class.searchSuggestionItem).replace(/{{class.searchUiAutocompleteItem}}/g,Class.searchUiAutocompleteItem)}else{var imageHTML="";if(Settings.getSettingValue("search.showSuggestionProductImage")&&this.imageUrl.length){imageHTML=this.getTemplate(InstantSearchResultItemProduct.tempType.IMAGE);var variantImage=variant.image!==null?Utils.optimizeImage(variant.image,"200x"):this.imageUrl;imageHTML=imageHTML.replace(/{{imageUrl}}/g,variantImage)}var productTitle=this.customizeProductTitle();productTitle=this._highlightSuggestionResult(productTitle,searchTerm);var skuHTML="";Settings.getSettingValue("search.showSuggestionProductSku")&&variant.sku.length&&(skuHTML=this.getTemplate(InstantSearchResultItemProduct.tempType.SKU),skuHTML=skuHTML.replace(/{{sku}}/g,variant.sku));var vendorHTML="";Settings.getSettingValue("search.showSuggestionProductVendor")&&this.vendor.length&&(vendorHTML=this.getTemplate(InstantSearchResultItemProduct.tempType.VENDOR),vendorHTML=vendorHTML.replace(/{{vendor}}/g,this.vendor));var priceHTML=this.compileSuggestionProductPriceVariant(variant),newTabAttr=Settings.getSettingValue("search.openProductNewTab")?'target="_blank"':"",itemUrl=this.url+"?variant="+variant.id;return this.getTemplate().replace(/{{id}}/g,this.id).replace(/{{escapedBlockType}}/g,Utils.escape(this.parent.type)).replace(/{{url}}/g,itemUrl).replace(/{{newTabAttribute}}/g,newTabAttr).replace(/{{itemProductImage}}/g,imageHTML).replace(/{{title}}/g,productTitle).replace(/{{escapedTitle}}/g,Utils.escape(productTitle)).replace(/{{itemProductSku}}/g,skuHTML).replace(/{{itemProductVendor}}/g,vendorHTML).replace(/{{itemProductPrice}}/,priceHTML).replace(/{{class.searchSuggestion}}/g,Class.searchSuggestion).replace(/{{class.searchSuggestionItem}}/g,Class.searchSuggestionItem).replace(/{{class.searchUiAutocompleteItem}}/g,Class.searchUiAutocompleteItem)}}else return""},InstantSearchResultItemProduct.prototype.compileSuggestionProductPriceVariant=function(variant){this.prepareSuggestionProductPriceData();var variantPrice=parseFloat(variant.price),onSale=variant.compare_at_price!==null?parseFloat(variant.compare_at_price)>variantPrice:!1,price=Utils.formatMoney(variantPrice),compareAtPrice=variant.compare_at_price!==null?parseFloat(variant.compare_at_price):"";variant&&compareAtPrice!==""&&(compareAtPrice=Utils.formatMoney(compareAtPrice),Settings.getSettingValue("search.removePriceDecimal")&&(price=Utils.removeDecimal(price),compareAtPrice=Utils.removeDecimal(compareAtPrice)));var result="";return Settings.getSettingValue("search.showSuggestionProductPrice")&&(onSale&&Settings.getSettingValue("search.showSuggestionProductSalePrice")?result=this.getTemplate(InstantSearchResultItemProduct.tempType.PRICE_SALE):result=this.getTemplate(InstantSearchResultItemProduct.tempType.PRICE)),result.replace(/{{regularPrice}}/g,price).replace(/{{compareAtPrice}}/g,compareAtPrice)},SearchInput.prototype.customizeInstantSearch=function(){var suggestionElement=this.$uiMenuElement,searchElement=this.$element,searchBoxId=this.id}})();
//# sourceMappingURL=/cdn/shop/t/151/assets/boost-pfs-instant-search.js.map?v=91849962752044911581689637206
